{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Model.vue?efbe","webpack:///./src/App.vue","webpack:///./src/components/Model.vue","webpack:///./src/components/Model.vue?a849","webpack:///./src/App.vue?eabf","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","url","id","role","action","for","load3dModel","color1","color2","size","speed","bg","objectbg","opacity","disabled","showPanel","rotate90Left","type","rotate90Right","mirror","mirrored","deleteObj","view360","mouseClick","canvasPosition","raycaster","roomCamera","roomScene","activeObj","boxSelected","controls2","props","hideAlwaysObject","mainObject","debug","availableAdd","objectGap","config","Object019","price","areasMapToAdd","Object045","Object042","orientation","Object013","Object056","Object062","mounted","canvas","renderer","scenes","self","this","loader","FBXLoader","document","getElementById","content","room","position","y","z","x","OrbitControls","mouse","light","set","add","gridHelper","rowElem","createElement","onMouseMove","event","clientX","left","width","clientY","top","height","updateSize","clientWidth","clientHeight","setSize","animate","render","requestAnimationFrame","setClearColor","setScissorTest","clear","forEach","scene","element","userData","rect","getBoundingClientRect","bottom","domElement","right","setViewport","setScissor","camera","setFromCamera","intersects","intersectObjects","children","html","querySelector","style","cursor","widthRoom","heightRoom","leftRoom","bottomRoom","classList","load","fbx","adopted","Mesh","index","obj","clone","includes","mainObj","defaultConfig","userInfo","scale","setFromObject","getSize","group","info","className","button","innerText","appendChild","addEventListener","addObjectRoom","sceneElement","descriptionElement","controls","enablePan","enableZoom","antialias","setPixelRatio","devicePixelRatio","activateObject","watch","newValue","oldValue","remove","enabled","methods","gropElem","objectRoom","elem","availableAreasVoxel","selectPlaceForObj","e","currentTarget","addObject","selectBox","addObj","console","log","shiftArray","array","direction","unshift","pop","tmp","parentObj","parent","getRootObj","rotateZ","Math","PI","update","updatePositionElemGroup","centerObj","interGroup","abs","newPosition","boxGroup","boxObj","positionNewObjRoom","addBox","addSizeBox","map","box","sizeBox","normalize","origin","ray","arrowHelper","voxelPosition","addVoxel","rollOverGeo","material","color","transparent","voxel","handler","__exports__","components","Model","app","createApp","App","use","mount"],"mappings":"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","file":"js/app.83fb0e22.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/3d/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Model.vue?vue&type=style&index=0&id=61e7e0b0&lang=css\"","<template>\n  <div class=\"model container\">\n    <Model url= \"models/DISCOVERY_razbor_ierarhiya.FBX\"></Model>\n  </div>\n</template>\n\n<script>\nimport Model from './components/Model.vue';\n\nexport default {\n  components: {\n    Model,\n  },\n};\n</script>\n\n<style>\n\n</style>\n","<template>\n  <loader v-if=\"!load3dModel\" object=\"#dc3545\" color1=\"#0d6efd\" color2=\"#198754\" size=\"5\" speed=\"2\" bg=\"#ffffff\"\n          objectbg=\"#ffffff\" opacity=\"100\" name=\"circular\"></loader>\n  <div id=\"app-3d\">\n    <canvas id=\"c\"></canvas>\n    <div id=\"content\">\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <div class=\"room\" id=\"room\"></div>\n        </div>\n        <div class=\"col-6\">\n          <div class=\"alert alert-primary\" role=\"alert\">\n            <ul>\n              <li>Используте двойной клик для выбора объекта в комнате.</li>\n            </ul>\n\n          </div>\n          <form action=\"\">\n            <div class=\"row\">\n              <div class=\"col-4\">\n                <fieldset :disabled=\"showPanel == false\">\n                  <div class=\"btn-group\">\n                    <button v-on:click=\"rotate90Left\" class=\"btn btn-outline-primary\" type=\"button\"><i\n                        class=\"fas fa-undo\"></i>90°\n                    </button>\n                    <button v-on:click=\"rotate90Right\" class=\"btn btn-outline-primary\" type=\"button\">90°<i\n                        class=\"fas fa-undo mirror\"></i></button>\n                  </div>\n                </fieldset>\n              </div>\n              <div class=\"col-4\">\n                <fieldset :disabled=\"showPanel == false\">\n                  <div class=\"form-check form-switch\">\n                    <label class=\"form-label\" for=\"mirrorImage\">Зеркально</label>\n                    <input v-on:change=\"mirror\" v-model=\"mirrored\" class=\"form-check-input\" type=\"checkbox\"\n                           id=\"mirrorImage\">\n                  </div>\n                </fieldset>\n              </div>\n              <div class=\"col-4\">\n                <fieldset :disabled=\"showPanel == false\">\n                  <button v-on:click=\"deleteObj\" type=\"button\" class=\"btn btn-danger\">Удалить</button>\n                </fieldset>\n              </div>\n              <div class=\"col-4 mt-3\">\n                <fieldset>\n                  <div class=\"form-check\">\n                    <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"view360\" v-model=\"view360\">\n                    <label class=\"form-check-label\" for=\"view360\">\n                      Обзор 360\n                    </label>\n                  </div>\n                </fieldset>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as THREE from 'three';\nimport {FBXLoader} from 'three/examples/jsm/loaders/FBXLoader.js';\nimport {OrbitControls} from 'three/examples/jsm/controls/OrbitControls';\n\nlet mouseClick, canvasPosition, raycaster, roomCamera, roomScene, activeObj, boxSelected, controls2;\n\nexport default {\n  props: ['url'],\n  data() {\n    return {\n      hideAlwaysObject: ['Object036', 'Object070', 'Object072', 'Object079'],\n      mainObject: ['Object013'],\n      load3dModel: false,\n      debug: true,\n      showPanel: false,\n      availableAdd: true,\n      mirrored: false,\n      view360: true,\n      objectGap: 20,\n      config: {\n        Object019: {\n          price: 1000,\n          areasMapToAdd: [0, 0, 1, 1] // top, right, bottom, left\n        },\n        Object045: {\n          price: 1000,\n          areasMapToAdd: [0, 1, 0, 1]\n        },\n        Object042: {\n          price: 1000,\n          orientation: 0,\n          areasMapToAdd: [0, 1, 0, 1]\n        },\n        Object013: {\n          price: 1000,\n          areasMapToAdd: [0, 1, 0, 1]\n        },\n        Object056: {\n          price: 1000,\n          areasMapToAdd: [1, 1, 1, 1]\n        },\n        Object062: {\n          price: 1000,\n          areasMapToAdd: [1, 0, 0, 0]\n        },\n      }\n    };\n  },\n  mounted() {\n    let canvas, renderer;\n    const scenes = [];\n    const self = this;\n    const loader = new FBXLoader();\n\n    canvas = document.getElementById('c');\n    const content = document.getElementById('content');\n    const room = document.getElementById('room');\n\n    roomScene = new THREE.Scene();\n    roomCamera = new THREE.PerspectiveCamera(75, 1, 1, 25000);\n    roomCamera.position.y = 900;\n    roomCamera.position.z = 2100;\n    roomCamera.position.x = -12;\n\n    controls2 = new OrbitControls(roomCamera, room);\n\n    const mouse = new THREE.Vector2();\n    mouseClick = new THREE.Vector2();\n    raycaster = new THREE.Raycaster();\n\n    const light = new THREE.DirectionalLight(0xffffff, 0.9);\n    light.position.set(1, 1, 1);\n    roomScene.add(light);\n\n    const gridHelper = new THREE.GridHelper(3000, 25);\n    roomScene.add(gridHelper);\n\n    const rowElem = document.createElement('div');\n    rowElem.classList = 'row mt-3';\n\n    loader.load(process.env.BASE_URL + this.url, function (fbx) {\n      const adopted = fbx.children;\n\n      adopted.forEach((Mesh, index) => {\n        const obj = Mesh.clone();\n        if (self.hideAlwaysObject.includes(obj.name)) {\n          return;\n        }\n        if (self.mainObject.includes(obj.name)) {\n          const mainObj = obj.clone()\n\n          const defaultConfig = self.config[mainObj.name]['areasMapToAdd'];\n          mainObj.userInfo = {\n            areasMapToAdd: defaultConfig\n          };\n\n          mainObj.position.x = 0\n          mainObj.scale.set(0.3, 0.3, 0.3)\n          const size = new THREE.Vector3()\n          const box = new THREE.Box3().setFromObject(mainObj);\n          box.getSize(size);\n          mainObj.position.y = size.y / 2\n          mainObj.position.z = size.z / 2\n          const group = new THREE.Group()\n          group.add(mainObj)\n          roomScene.add(group)\n        }\n\n        const scene = new THREE.Scene();\n        obj.position.set(0, 0, 0);\n        scene.add(obj);\n\n        const box = new THREE.Box3().setFromObject(obj);\n        //const helper = new THREE.Box3Helper(box, 0xffff00);\n        //scene.add(helper);\n\n        const info = document.createElement('div');\n        info.className = 'info'\n        const button = document.createElement('button');\n        button.className = 'add btn btn-success w-100'\n        button.innerText = \"Добавить\"\n        info.appendChild(button);\n\n        button.addEventListener(\"click\", () => self.addObjectRoom(obj));\n\n        const element = document.createElement('div');\n        element.className = 'list-item col-xxl-2 col-lg-3 col-md-3 col-sm-6 col-6';\n        element.classList.add(obj.name)\n        rowElem.appendChild(element);\n        const sceneElement = document.createElement('div');\n        element.appendChild(sceneElement);\n        const descriptionElement = document.createElement('div');\n        descriptionElement.appendChild(info);\n        element.appendChild(descriptionElement);\n        scene.userData.element = sceneElement;\n        content.appendChild(rowElem);\n\n        const camera = new THREE.PerspectiveCamera(50, 1, 1, 25000);\n        camera.position.y = 1000;\n        camera.position.z = 3000;\n        scene.userData.camera = camera;\n\n        const controls = new OrbitControls(scene.userData.camera, scene.userData.element);\n\n        controls.enablePan = true;\n        controls.enableZoom = true;\n        scene.userData.controls = controls;\n\n        const light = new THREE.DirectionalLight(0xffffff, 0.9);\n        light.position.set(1, 1, 1);\n        scene.add(light);\n\n        //camera axesHelper = new THREE.AxesHelper(500);\n        //scene.add(axesHelper);\n        scenes.push(scene);\n\n      });\n      animate();\n      self.load3dModel = true;\n    });\n\n    renderer = new THREE.WebGLRenderer({canvas: canvas, antialias: true});\n    renderer.setClearColor(0xffffff, 1);\n    renderer.setPixelRatio(window.devicePixelRatio);\n\n    function onMouseMove(event) {\n      mouse.x = ((event.clientX - canvasPosition.left) / canvasPosition.width) * 2 - 1;\n      mouse.y = -((event.clientY - canvasPosition.top) / canvasPosition.height) * 2 + 1;\n    }\n\n    function updateSize() {\n      const width = canvas.clientWidth;\n      const height = canvas.clientHeight;\n      if (canvas.width !== width || canvas.height !== height) {\n        renderer.setSize(width, height, false);\n      }\n    }\n\n    function animate() {\n      render();\n      requestAnimationFrame(animate);\n    }\n\n    function render() {\n      updateSize();\n      renderer.setClearColor(0xffffff);\n      renderer.setScissorTest(false);\n      renderer.clear();\n\n      renderer.setClearColor(0xe0e0e0);\n      renderer.setScissorTest(true);\n\n      scenes.forEach(function (scene) {\n\n        const element = scene.userData.element;\n        const rect = element.getBoundingClientRect();\n        if (rect.bottom < 0 || rect.top > renderer.domElement.clientHeight ||\n            rect.right < 0 || rect.left > renderer.domElement.clientWidth) {\n          return;\n        }\n        const width = rect.right - rect.left;\n        const height = rect.bottom - rect.top;\n        const left = rect.left;\n        const bottom = renderer.domElement.clientHeight - rect.bottom;\n\n        renderer.setViewport(left, bottom, width, height);\n        renderer.setScissor(left, bottom, width, height);\n        const camera = scene.userData.camera;\n        renderer.render(scene, camera);\n\n      });\n\n      const rect = room.getBoundingClientRect();\n      canvasPosition = room.getBoundingClientRect();\n      if (rect.bottom < 0 || rect.top > renderer.domElement.clientHeight ||\n          rect.right < 0 || rect.left > renderer.domElement.clientWidth) {\n        return;\n      }\n      if (mouse) {\n        raycaster.setFromCamera(mouse, roomCamera);\n        const intersects = raycaster.intersectObjects(roomScene.children, true);\n        const html = document.querySelector('html');\n\n        if (intersects.length > 0) {\n          html.style.cursor = 'pointer';\n        } else {\n          html.style.cursor = 'default';\n        }\n      }\n\n      const widthRoom = rect.right - rect.left;\n      const heightRoom = rect.bottom - rect.top;\n      const leftRoom = rect.left;\n\n      const bottomRoom = renderer.domElement.clientHeight - rect.bottom;\n      renderer.setViewport(leftRoom, bottomRoom, widthRoom, heightRoom);\n      renderer.setScissor(leftRoom, bottomRoom, widthRoom, heightRoom);\n      renderer.render(roomScene, roomCamera);\n    }\n\n    room.addEventListener('mousemove', onMouseMove, false);\n    room.addEventListener('dblclick', this.activateObject, false);\n  },\n  watch: {\n    showPanel(newValue, oldValue) {\n      if (!newValue) {\n        roomScene.remove(boxSelected);\n        this.mirrored = false;\n      }\n    },\n    view360(newValue, oldValue){\n      if(newValue){\n        controls2.enabled = true;\n      } else {\n        controls2.enabled = false;\n      }\n    }\n  },\n  methods: {\n    addObjectRoom(obj) {\n      activeObj = {};\n      this.showPanel = false;\n      const self = this;\n      let groupIndex, gropElem, objectRoom;\n      objectRoom = obj.clone();\n      roomScene.children.forEach((elem, index) => {\n        if (elem.type == 'Group') {\n          groupIndex = index;\n          gropElem = elem;\n        }\n      });\n      this.availableAreasVoxel(gropElem, objectRoom);\n    },\n\n    selectPlaceForObj(e) {\n\n      let group = e.currentTarget.group;\n      const addObject = e.currentTarget.addObject;\n      mouseClick.x = ((e.clientX - canvasPosition.left) / canvasPosition.width) * 2 - 1;\n      mouseClick.y = -((e.clientY - canvasPosition.top) / canvasPosition.height) * 2 + 1;\n      raycaster.setFromCamera(mouseClick, roomCamera);\n      const intersects = raycaster.intersectObjects(roomScene.children, true);\n\n      if (typeof intersects[0] === 'object' && typeof intersects[0].object === 'object') {\n        if (intersects[0].object.type === 'Mesh' && intersects[0].object.name === 'interBox') {\n\n          for( let i = roomScene.children.length - 1; i >= 0; i--) {\n            if(roomScene['children'][i]['type'] === 'ArrowHelper'){\n              roomScene.remove(roomScene['children'][i]);\n            }\n          }\n\n          const selectBox = intersects[0].object;\n          for( let i = group.children.length - 1; i >= 0; i--) {\n            if(group['children'][i]['name'] === 'interBox' || group['children'][i]['type'] === 'interBox'){\n              group.remove(group['children'][i]);\n            }\n          }\n          const addObj = addObject.clone();\n          const defaultConfig = [...this.config[addObj.name]['areasMapToAdd']];\n          console.log(process.env);\n          addObj.userInfo = {\n            areasMapToAdd: defaultConfig\n          };\n          addObj.position.set(selectBox.position.x, selectBox.position.y, selectBox.position.z);\n          group.add(addObj);\n        }\n      }\n    },\n\n    shiftArray(array, direction = 'right') {\n       if(direction === 'left'){\n         array.push(array.shift());\n       }\n       if(direction === 'right'){\n        array.unshift(array.pop());\n       }\n       if(direction === 'mirror'){\n         const tmp = [array[0], array[2]];\n         array[0] = tmp[1];\n         array[2] = tmp[0];\n       }\n       return array;\n    },\n\n    activateObject(e) {\n      activeObj = {};\n      this.showPanel = false;\n      roomScene.remove(boxSelected)\n      mouseClick.x = ((e.clientX - canvasPosition.left) / canvasPosition.width) * 2 - 1;\n      mouseClick.y = -((e.clientY - canvasPosition.top) / canvasPosition.height) * 2 + 1;\n      raycaster.setFromCamera(mouseClick, roomCamera);\n      const intersects = raycaster.intersectObjects(roomScene.children, true);\n      if (typeof intersects[0] === 'object' && typeof intersects[0].object === 'object') {\n        if (intersects[0].object.type === 'Mesh') {\n          const parentObj = intersects[0].object.parent;\n          if (parentObj.type === 'Mesh') {\n            activeObj = this.getRootObj(parentObj);\n            boxSelected = new THREE.BoxHelper(activeObj, 0xdc3545);\n            roomScene.add(boxSelected);\n            this.showPanel = true;\n          }\n        }\n      }\n    },\n\n    getRootObj(obj) {\n      let parent = obj.parent;\n      if (parent.type !== 'Group') {\n        this.getRootObj(parent)\n      } else {\n        return obj;\n      }\n    },\n\n    rotate90Right(e) {\n      activeObj.rotateZ(-90 * Math.PI / 180);\n      //console.log(activeObj.userInfo.areasMapToAdd)\n      activeObj.userInfo.areasMapToAdd = this.shiftArray(activeObj.userInfo.areasMapToAdd);\n      //console.log(activeObj.userInfo.areasMapToAdd)\n      boxSelected.update();\n    },\n\n    rotate90Left(e) {\n      activeObj.rotateZ(90 * Math.PI / 180);\n      //console.log(activeObj.userInfo.areasMapToAdd)\n      activeObj.userInfo.areasMapToAdd = this.shiftArray(activeObj.userInfo.areasMapToAdd, 'left');\n      //console.log(activeObj.userInfo.areasMapToAdd)\n      boxSelected.update();\n    },\n\n    deleteObj(e) {\n      const group = activeObj.parent;\n      group.remove(activeObj);\n      activeObj = {};\n      this.showPanel = false;\n      roomScene.remove(boxSelected)\n      boxSelected.update();\n      //this.updatePositionElemGroup(group);\n    },\n\n    updatePositionElemGroup(group) {\n      const self = this;\n      let centerObj, interGroup;\n      interGroup = group.clone();\n      for (let i = group.children.length - 1; i >= 0; i--) {\n        group.remove(group.children[i]);\n      }\n      interGroup.children.forEach((e, i) => {\n        if (i === 0) {\n          centerObj = e;\n        } else {\n          if (Math.abs(e.position.x) <= Math.abs(centerObj.position.x)) {\n            centerObj = e;\n          }\n        }\n      });\n      interGroup.remove(centerObj);\n      centerObj.position.x = 0;\n      group.add(centerObj);\n\n      for (let i = interGroup.children.length - 1; i >= 0; i--) {\n        let obj = interGroup.children[i];\n\n        let newPosition;\n        let boxGroup = new THREE.Box3().setFromObject(group);\n        let boxObj = new THREE.Box3().setFromObject(obj);\n\n        if (obj.position.x > 0) {\n          newPosition = self.positionNewObjRoom(boxGroup, boxObj);\n        } else {\n          newPosition = self.positionNewObjRoom(boxGroup, boxObj, 'left');\n        }\n        obj.position.set(newPosition.x, newPosition.y, newPosition.z);\n        group.add(obj);\n      }\n    },\n\n    mirror(e) {\n      const scale = activeObj.scale;\n      activeObj.scale.set(-scale.x, scale.y, scale.z);\n      activeObj.userInfo.areasMapToAdd = this.shiftArray(activeObj.userInfo.areasMapToAdd, 'mirror');\n      boxSelected.update();\n    },\n\n    availableAreasVoxel(group, addObject) {\n      addObject.scale.set(0.3, 0.3, 0.3);\n      const addBox = new THREE.Box3().setFromObject(addObject);\n      const addSizeBox = new THREE.Vector3();\n      addBox.getSize(addSizeBox);\n\n      group.children.forEach((e, i) => {\n\n        let map = e.userInfo.areasMapToAdd;\n\n        const box = new THREE.Box3().setFromObject(e);\n        const sizeBox = new THREE.Vector3();\n        box.getSize(sizeBox);\n\n        if (map[1] === 1) { // right\n          const direction = new THREE.Vector3(1, 0, 0).normalize();\n          const origin = new THREE.Vector3(e.position.x + sizeBox.x / 2 + this.objectGap, e.position.y / 2, e.position.z / 2);\n\n          const ray = new THREE.Raycaster(origin, direction);\n          const intersects = ray.intersectObjects(roomScene.children);\n          \n          if(this.debug){\n           const arrowHelper = new THREE.ArrowHelper( direction, origin, 1000, 0xffff00 * i / 100 );\n           roomScene.add( arrowHelper );\n          }\n\n          if (intersects.length === 0) {\n            const x = (sizeBox.x / 2) + (addSizeBox.x / 2) + this.objectGap + e.position.x;\n            const y = addSizeBox.y / 2;\n            const z = e.position.z + (addSizeBox.z / 2) - (sizeBox.z / 2);\n            const voxelPosition = new THREE.Vector3(x, y, z);\n            this.addVoxel(voxelPosition, addSizeBox, group, addObject);\n          }\n        }\n        if (map[3] === 1) { // left\n          const direction = new THREE.Vector3(-1, 0, 0).normalize();\n          const origin = new THREE.Vector3(e.position.x - sizeBox.x / 2 - this.objectGap, e.position.y / 2, e.position.z / 2);\n\n          const ray = new THREE.Raycaster(origin, direction);\n          const intersects = ray.intersectObjects(roomScene.children);\n          \n          if(this.debug){\n            const arrowHelper = new THREE.ArrowHelper( direction, origin, 1000, 0xffff00 * i / 100 );\n            roomScene.add( arrowHelper );\n          }\n\n          if (intersects.length === 0) {\n            const x = e.position.x - (sizeBox.x / 2) - (addSizeBox.x / 2) - this.objectGap;\n            const y = addSizeBox.y / 2;\n            const z = e.position.z + (addSizeBox.z / 2) - (sizeBox.z / 2);\n            const voxelPosition = new THREE.Vector3(x, y, z);\n            this.addVoxel(voxelPosition, addSizeBox, group, addObject);\n          }\n        }\n        if (map[0] === 1) { // top\n          const direction = new THREE.Vector3(0, 0, -1).normalize();\n          const origin = new THREE.Vector3(e.position.x, e.position.y / 2, e.position.z - sizeBox.z / 2 - this.objectGap);\n\n          const ray = new THREE.Raycaster(origin, direction);\n          const intersects = ray.intersectObjects(roomScene.children);\n          \n          if(this.debug){\n            const arrowHelper = new THREE.ArrowHelper( direction, origin, 1000, 0xffff00 * i / 100 );\n            roomScene.add( arrowHelper );\n          }\n\n          if (intersects.length === 0) {\n            const x = e.position.x - (sizeBox.x / 2) + (addSizeBox.x / 2) - this.objectGap;\n            const y = addSizeBox.y / 2;\n            const z = e.position.z - (sizeBox.z / 2) - (addSizeBox.z / 2) - this.objectGap;\n            const voxelPosition = new THREE.Vector3(x, y, z);\n            this.addVoxel(voxelPosition, addSizeBox, group, addObject);\n          }\n        }\n        if (map[2] === 1) { // bottom\n          const direction = new THREE.Vector3(0, 0, 1).normalize();\n          const origin = new THREE.Vector3(e.position.x , e.position.y / 2, e.position.z + sizeBox.z / 2 + this.objectGap);\n\n          const ray = new THREE.Raycaster(origin, direction);\n          const intersects = ray.intersectObjects(roomScene.children);\n          \n          if(this.debug){\n            const arrowHelper = new THREE.ArrowHelper( direction, origin, 1000, 0xffff00 * i / 100 );\n            roomScene.add( arrowHelper );\n          }\n\n          if (intersects.length === 0) {\n            const x = e.position.x - (sizeBox.x / 2) + (addSizeBox.x / 2) + this.objectGap;\n            const y = addSizeBox.y / 2;\n            const z = e.position.z + (sizeBox.z / 2) + (addSizeBox.z / 2) + this.objectGap;\n            const voxelPosition = new THREE.Vector3(x, y, z);\n            this.addVoxel(voxelPosition, addSizeBox, group, addObject);\n          }\n        }\n\n      });\n    },\n    addVoxel(position, size, group, addObject) {\n      const self = this;\n      const rollOverGeo = new THREE.BoxGeometry(size.x, size.y, size.z);\n      const material = new THREE.MeshBasicMaterial({color: 0xff0000, opacity: 0.5, transparent: true});\n      const voxel = new THREE.Mesh(rollOverGeo, material);\n      voxel.name = 'interBox';\n      voxel.position.set(position.x, position.y, position.z);\n      group.add(voxel);\n      const handler = function (e) {\n        self.selectPlaceForObj(e);\n      }\n      document.addEventListener('click', handler);\n      document.group = group;\n      document.addObject = addObject;\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n  font-size: 12px;\n}\n\n#content {\n  position: relative;\n  top: 0;\n  width: 100%;\n  z-index: 1;\n  padding: 3em 0 0 0;\n}\n\n#c {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.list-item > div:nth-child(1) {\n  width: 100%;\n  height: 150px;\n}\n\n.list-item > div:nth-child(2) {\n  color: #888;\n  margin-top: 0.5em;\n}\n\n.room {\n  width: 100%;\n  height: 500px;\n}\n.mirror {\n  transform: scale(-1, 1);\n}\n</style>","import { render } from \"./Model.vue?vue&type=template&id=61e7e0b0\"\nimport script from \"./Model.vue?vue&type=script&lang=js\"\nexport * from \"./Model.vue?vue&type=script&lang=js\"\n\nimport \"./Model.vue?vue&type=style&index=0&id=61e7e0b0&lang=css\"\n\nimport exportComponent from \"/home/igor/www/3dmodels/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6efc5324\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/igor/www/3dmodels/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {createApp} from 'vue';\nimport App from './App.vue';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport loader from 'vue-ui-preloader';\n\nconst app = createApp(App);\napp.use(loader)\napp.mount('#app');\n"],"sourceRoot":""}